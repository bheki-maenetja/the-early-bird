(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,a,t){e.exports=t(77)},51:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(42),c=t.n(l),s=t(6),i=t(5),o=t(13),m=t(7),u=t(12),d=t(18),h=(t(51),t(52),t(53),t(54),t(25)),f=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayload",value:function(){var e=this.getToken();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayload();return!!e&&Math.round(Date.now()/1e3)<e.exp}}]),e}(),p=function(e){var a=e.component,t=Object(h.a)(e,["component"]);return f.isAuthenticated()?r.a.createElement(d.b,Object.assign({},t,{component:a})):(f.logout(),r.a.createElement(d.a,{to:"/login"}))},v=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={},e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero is-info home-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered",style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("h1",{className:"title is-2 has-text-centered"},"Welcome to the World's Most Trusted News Source"),r.a.createElement("h2",{className:"subtitle is-4 has-text-centered"},"Get the Latest News in Business, Science, Sports & Entertainment"),r.a.createElement("div",{className:"buttons is-centered"},r.a.createElement(u.b,{to:"/news/top"},r.a.createElement("button",{className:"button is-info is-large"},"Get Started")),!f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{className:"button is-primary is-large"},"Login")),r.a.createElement(u.b,{to:"/register"},r.a.createElement("button",{className:"button is-success is-large"},"Register"))))))))}}]),t}(r.a.Component),E=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={navbarOpen:!1,dropdownOpen:!1},e.toggleNavbar=function(){e.setState({navbarOpen:!e.state.navbarOpen})},e.toggleDropdown=function(){e.setState({dropdownOpen:!e.state.dropdownOpen})},e.handleLogOut=function(){f.logout(),e.setState({navbarOpen:!1})},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.navbarOpen,n=a.dropdownOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar is-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand is-size-4"},r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/"},r.a.createElement("i",{className:"fas fa-home fa-2x"})),r.a.createElement("a",{className:"navbar-burger is-size-4 ".concat(t?"is-active":""),onClick:this.toggleNavbar},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:"navbar-menu ".concat(t?"is-active":"")},r.a.createElement("div",{className:"navbar-end"},!f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/news/top"},"Top News"),f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/newsfeed"},"Newsfeed"),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-item has-dropdown is-size-4 ".concat(n?"is-active":"")},r.a.createElement("a",{className:"navbar-link",onClick:this.toggleDropdown},"News"),n&&r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(u.b,{className:"navbar-item",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/news/top"},"Top News"),r.a.createElement(u.b,{className:"navbar-item",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/news/business"},"Business"),r.a.createElement(u.b,{className:"navbar-item",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/news/sci-tech"},"Science & Tech"),r.a.createElement(u.b,{className:"navbar-item",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/news/sports"},"Sports"),r.a.createElement(u.b,{className:"navbar-item",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/news/entertainment"},"Entertainment")))),f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/publishers"},"Publishers"),f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/weather"},"Weather"),!f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/login"},"Login"),!f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/register"},"Register"),f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:function(){return e.setState({navbarOpen:!1,dropdownOpen:!1})},to:"/my-profile"},"Profile"),f.isAuthenticated()&&r.a.createElement(u.b,{className:"navbar-item is-size-4",onClick:this.handleLogOut,to:"/"},"Logout"))))))}}]),t}(r.a.Component),g=Object(d.g)(E),b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero is-small header"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("i",{className:"fas fa-dove fa-5x"}),r.a.createElement("h1",{className:"title is-2 has-text-centered"},"The Early Bird"),r.a.createElement("h2",{className:"subtitle is-5 has-text-centered"},"Leading the News. Leading the World.")))))},N=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={},e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero is-info",style:{flexGrow:"1"}},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered",style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h1",{className:"title is-1"},"Oops! - Looks ike you're in the wrong place!"),r.a.createElement("h1",{className:"subtitle is-3"},"Take me ",r.a.createElement(u.b,{className:"has-text-warning has-text-weight-bold",to:"/"},"home"))))))}}]),t}(r.a.Component),k=t(4),w=t.n(k),x=t(9),A=t(8),y=t.n(A),C=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,modalActive:!1,currentArticle:null,selectedTab:"articles"},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t,n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state.selectedTab,a.prev=1,a.next=4,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:n=a.sent,e.setState({modalActive:!1,currentArticle:null,selectedTab:t,userData:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])}))),e.changeTabs=function(a){e.setState({selectedTab:a})},e.setArticle=function(a){f.isAuthenticated()&&e.setState({modalActive:!0,currentArticle:a})},e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:t.id}});case 3:a.sent,e.refreshPage(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e.unfollowPublisher=function(){var a=Object(x.a)(w.a.mark((function a(t){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.delete("/api/users/publishers/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{publisherId:t.id}});case 3:a.sent,e.refreshPage(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:a=e.sent,this.setState({userData:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.userData,n=a.selectedTab,l=a.modalActive,c=a.currentArticle;return!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"hero is-small profile-info"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"My Profile"),r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-item has-text-centered"},r.a.createElement("div",null,r.a.createElement("p",{className:"heading"},"First Name"),r.a.createElement("p",{className:"title"},t.first_name))),r.a.createElement("div",{className:"level-item has-text-centered"},r.a.createElement("div",null,r.a.createElement("p",{className:"heading"},"Last Name"),r.a.createElement("p",{className:"title"},t.last_name))),r.a.createElement("div",{className:"level-item has-text-centered"},r.a.createElement("div",null,r.a.createElement("p",{className:"heading"},"Username"),r.a.createElement("p",{className:"title"},t.username))),r.a.createElement("div",{className:"level-item has-text-centered"},r.a.createElement("div",null,r.a.createElement("p",{className:"heading"},"Email"),r.a.createElement("p",{className:"title is-4"},t.email)))))),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tabs is-medium is-centered is-fullwidth"},r.a.createElement("ul",null,r.a.createElement("li",{className:"articles"===n?"is-active":"",onClick:function(){return e.changeTabs("articles")}},r.a.createElement("a",{style:"articles"===n?{color:"#e3120b",borderBottom:"1px solid #e3120b"}:{}},"Saved Articles")),r.a.createElement("li",{className:"publishers"===n?"is-active":"",onClick:function(){return e.changeTabs("publishers")}},r.a.createElement("a",{style:"publishers"===n?{color:"#e3120b",borderBottom:"1px solid #e3120b"}:{}},"Favourite Publishers")))),"articles"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"columns is-mobile is-multiline"},0===t.saved_articles.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-12"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"subtitle is-2 has-text-centered"},"No Articles")))):r.a.createElement(r.a.Fragment,null,t.saved_articles.map((function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"box news-article",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:a.image_url,alt:a.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return e.setArticle(a)},style:{cursor:"pointer"}},a.title),r.a.createElement("p",{className:"subtitle is-6"},a.description),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:a.source_url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return e.unsaveArticle(a)},style:{cursor:"pointer"}})))))))}))))),"publishers"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"columns is-mobile is-multiline"},0===t.favourite_publishers.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-12"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"subtitle is-2 has-text-centered"},"No Publishers")))):r.a.createElement(r.a.Fragment,null,t.favourite_publishers.map((function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"box publisher-box",style:{height:"100%"}},r.a.createElement("h2",{className:"title is-3"},a.name),r.a.createElement("hr",null),r.a.createElement("p",{className:"subtitle is-5"},a.description),r.a.createElement("div",{className:"level is-mobile"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:a.source_url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},r.a.createElement("button",{className:"button is-danger",onClick:function(){return e.unfollowPublisher(a)}},"Unfollow"))))))}))))),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:c.image_url,alt:c.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},c.title),r.a.createElement("p",{className:"subtitle is-6"},c.content?c.content:c.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:c.source_url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return e.unsaveArticle(c)}},"Remove Article\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))))))))))))}}]),t}(r.a.Component),O=t(1),S=t(20),F=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={registerData:{first_name:"",last_name:"",username:"",email:"",password:"",password_confirmation:""},errors:{}},e.changeRegister=function(a){var t=a.target,n=t.name,r=t.value;e.setState({registerData:Object(S.a)({},e.state.registerData,Object(O.a)({},n,r)),errors:Object(S.a)({},e.state.errors,Object(O.a)({},n,""))})},e.registerUser=function(){var a=Object(x.a)(w.a.mark((function a(t){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,y.a.post("/api/users/register/",e.state.registerData);case 4:a.sent,e.props.history.push("/login"),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log("SOMETHING IS VERY WRONG!!!\n",a.t0),e.setState({errors:a.t0.response.data});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section auth-page",style:{flexGrow:1,display:"flex",alignItems:"center",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{className:"column is-half is-offset-one-quarter auth-form"},r.a.createElement("h2",{className:"title is-2 has-text-centered"},"Register"),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control is-expanded"},r.a.createElement("label",{className:"label"},"First Name"),r.a.createElement("input",{type:"text",className:"input ".concat(this.state.errors.first_name?"is-danger":""),name:"first_name",placeholder:"First Name",onChange:this.changeRegister,value:this.state.registerData.first_name}),this.state.errors.first_name&&r.a.createElement("small",{className:"has-text-danger"},this.state.errors.first_name[0])),r.a.createElement("div",{className:"control is-expanded"},r.a.createElement("label",{className:"label"},"Last Name"),r.a.createElement("input",{type:"text",className:"input ".concat(this.state.errors.last_name?"is-danger":""),name:"last_name",placeholder:"Last Name",onChange:this.changeRegister,value:this.state.registerData.last_name}),this.state.errors.last_name&&r.a.createElement("small",{className:"has-text-danger"},this.state.errors.last_name[0]))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control is-expanded"},r.a.createElement("label",{className:"label"},"Username"),r.a.createElement("input",{type:"text",className:"input ".concat(this.state.errors.username?"is-danger":""),name:"username",placeholder:"Username",onChange:this.changeRegister,value:this.state.registerData.username}),this.state.errors.username&&r.a.createElement("small",{className:"has-text-danger"},this.state.errors.username[0])),r.a.createElement("div",{className:"control is-expanded"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("input",{type:"text",className:"input ".concat(this.state.errors.email?"is-danger":""),name:"email",placeholder:"Email Address",onChange:this.changeRegister,value:this.state.registerData.email}),this.state.errors.email&&r.a.createElement("small",{className:"has-text-danger"},this.state.errors.email[0]))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",className:"input ".concat(this.state.errors.password?"is-danger":""),name:"password",placeholder:"Password",onChange:this.changeRegister,value:this.state.registerData.password}),this.state.errors.password&&r.a.createElement("small",{className:"has-text-danger"},this.state.errors.password[0]))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password Confirmation"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",className:"input ".concat(this.state.errors.password_confirmation?"is-danger":""),name:"password_confirmation",placeholder:"Confirm your password",onChange:this.changeRegister,value:this.state.registerData.password_confirmation}),this.state.errors.password_confirmation&&r.a.createElement("small",{className:"has-text-danger"},this.state.errors.password_confirmation[0]))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-info is-fullwidth",onClick:this.registerUser},"Register")),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"has-text-centered has-text-white has-text-weight-bold"},"Already have an account? ",r.a.createElement(u.b,{to:"/login",className:"has-text-link"},"Login")))))))))}}]),t}(r.a.Component),j=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={loginData:{email:"",password:""}},e.changeLogin=function(a){var t=a.target,n=t.name,r=t.value;e.setState({loginData:Object(S.a)({},e.state.loginData,Object(O.a)({},n,r)),error:""})},e.loginUser=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,y.a.post("/api/users/login/",e.state.loginData);case 4:n=a.sent,f.setToken(n.data.token),e.props.history.push("/"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("SOMETHING IS VERY WRONG!!!\n",a.t0),e.setState({error:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section auth-page",style:{flexGrow:1,display:"flex",alignItems:"center"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{className:"column is-half is-offset-one-quarter auth-form"},r.a.createElement("h2",{className:"title is-2 has-text-centered"},"Login"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",name:"email",className:"input ".concat(this.state.error?"is-danger":""),placeholder:"Email",onChange:this.changeLogin}),this.state.error&&r.a.createElement("small",{className:"has-text-danger"},this.state.error))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"password",name:"password",className:"input ".concat(this.state.error?"is-danger":""),placeholder:"Password",onChange:this.changeLogin}),this.state.error&&r.a.createElement("small",{className:"has-text-danger"},this.state.error))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-fullwidth",onClick:this.loginUser},"Login")),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"has-text-centered has-text-white has-text-weight-bold"},"Don't have an account? ",r.a.createElement(u.b,{to:"/register",className:"has-text-link"},"Register")))))))))}}]),t}(r.a.Component),T="e3b00a0374b24cfa8de2f998a86b149a",_=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,articles:null,modalActive:!1,currentArticle:null},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.getArticles=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("https://newsapi.org/v2/top-headlines?sources=".concat(t.join(),"&apiKey=").concat(T));case 3:n=a.sent,e.setState({articles:n.data.articles}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e.viewArticle=function(a){f.isAuthenticated()&&e.setState({modalActive:!0,currentArticle:a})},e.saveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={publisher:t.source.name?t.source.name:"N/A",author:t.author?t.author:"N/A",title:t.title?t.title:"N/A",description:t.description?t.description:"N/A",content:t.content?t.content:"N/A",publish_date:t.publishedAt?t.publishedAt:"N/A",source_url:t.url?t.url:"N/A",image_url:t.urlToImage?t.urlToImage:"N/A"},a.prev=1,a.next=4,y.a.post("/api/users/articles/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.saved_articles.find((function(e){return e.title===t.title})),a.prev=2,a.next=5,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:a=e.sent,this.setState({userData:a.data}),a.data.favourite_publishers.length>0&&this.getArticles(a.data.favourite_publishers.map((function(e){return e.slug}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.articles,l=t.userData,c=t.modalActive,s=t.currentArticle;return!!l&&(n&&l&&f.isAuthenticated()&&(e=l.saved_articles.map((function(e){return e.title}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section news-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Top Headlines from your Favourite Publishers"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-parent"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-8"},r.a.createElement("div",{className:"tile box is-child news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[0].urlToImage,alt:n[0].title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-4",onClick:function(){return a.viewArticle(n[0])}},n[0].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[0])}},n[0].description?n[0].description:n[0].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[0].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[0])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[0])}})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[1].urlToImage,alt:n[1].title})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"title is-5",onClick:function(){return a.viewArticle(n[1])}},n[1].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[1])}},n[1].description?n[1].description:n[1].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[1].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[1])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[1])}}))))))))),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n.slice(2).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"news-article box",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:t.urlToImage,alt:t.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return a.viewArticle(t)}},t.title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(t)}},t.description?t.description:t.content),r.a.createElement("div",{className:"container"},f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(t)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(t)}}))))))))}))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box modal-news-article"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:s.urlToImage,alt:s.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},s.title),r.a.createElement("p",{className:"subtitle is-6"},s.content?s.content:s.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:s.url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},e.includes(s.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return a.unsaveArticle(s)}},"Remove from Bookmarks\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-success modal-card-title is-fullwidth",onClick:function(){return a.saveArticle(s)}},"Save Article\u2002",r.a.createElement("i",{className:"far fa-bookmark has-text-white"})))))))))):r.a.createElement(r.a.Fragment,null,0===l.favourite_publishers.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("h2",{className:"subtitle is-3 has-text-centered"},"You don't follow any publishers"),r.a.createElement("h3",{className:"subtitle is-5 has-text-centered"},"You can follow a variety of news sources ",r.a.createElement(u.b,{to:"/publishers"},"here"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-2"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%")))))))}}]),t}(r.a.Component),z="e3b00a0374b24cfa8de2f998a86b149a",I=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,articles:null,countryCode:"za",modalActive:!1,currentArticle:null,countries:[{name:"Argentina",code:"ar"},{name:"Australia",code:"au"},{name:"Austria",code:"at"},{name:"Belgium",code:"be"},{name:"Brazil",code:"br"},{name:"Bulgaria",code:"bg"},{name:"Canada",code:"ca"},{name:"China",code:"cn"},{name:"Colombia",code:"co"},{name:"Cuba",code:"cu"},{name:"Czech Republic",code:"cz"},{name:"Egypt",code:"eg"},{name:"France",code:"fr"},{name:"Germany",code:"de"},{name:"Greece",code:"gr"},{name:"Hong Kong",code:"hk"},{name:"Hungary",code:"hu"},{name:"India",code:"in"},{name:"Indonesia",code:"id"},{name:"Ireland",code:"ie"},{name:"Israel",code:"il"},{name:"Italy",code:"it"},{name:"Japan",code:"jp"},{name:"Latvia",code:"lv"},{name:"Lithuania",code:"lt"},{name:"Malaysia",code:"my"},{name:"Mexico",code:"mx"},{name:"Morocco",code:"ma"},{name:"Netherlands",code:"nl"},{name:"New Zealand",code:"nz"},{name:"Nigeria",code:"ng"},{name:"Norway",code:"no"},{name:"Philippines",code:"ph"},{name:"Poland",code:"pl"},{name:"Portugal",code:"pt"},{name:"Romania",code:"ro"},{name:"Russia",code:"ru"},{name:"Saudi Arabia",code:"sa"},{name:"Serbia",code:"rs"},{name:"Singapore",code:"sg"},{name:"Slovakia",code:"sk"},{name:"Slovenia",code:"si"},{name:"South Africa",code:"za"},{name:"South Korea",code:"kr"},{name:"Sweden",code:"se"},{name:"Switzerland",code:"ch"},{name:"Taiwan",code:"tw"},{name:"Thailand",code:"th"},{name:"Turkey",code:"tr"},{name:"UAE",code:"ae"},{name:"Ukraine",code:"ua"},{name:"United Kingdom",code:"gb"},{name:"United States",code:"us"},{name:"Venuzuela",code:"ve"}]},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.getArticles=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("https://newsapi.org/v2/top-headlines?country=".concat(t,"&apiKey=").concat(z));case 3:n=a.sent,e.setState({articles:n.data.articles}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e.changeCountry=function(a){e.setState({countryCode:a.target.value}),e.getArticles(a.target.value)},e.viewArticle=function(a){f.isAuthenticated()?e.setState({modalActive:!0,currentArticle:a}):e.props.history.push("/login")},e.saveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={publisher:t.source.name?t.source.name:"N/A",author:t.author?t.author:"N/A",title:t.title?t.title:"N/A",description:t.description?t.description:"N/A",content:t.content?t.content:"N/A",publish_date:t.publishedAt?t.publishedAt:"N/A",source_url:t.url?t.url:"N/A",image_url:t.urlToImage?t.urlToImage:"N/A"},a.prev=1,a.next=4,y.a.post("/api/users/articles/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.saved_articles.find((function(e){return e.title===t.title})),a.prev=2,a.next=5,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a,t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!f.isAuthenticated()){e.next=8;break}return e.next=4,Promise.all([y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}}),y.a.get("https://newsapi.org/v2/top-headlines?country=za&apiKey=".concat(z))]);case 4:a=e.sent,this.setState({articles:a[1].data.articles,userData:a[0].data}),e.next=12;break;case 8:return e.next=10,y.a.get("https://newsapi.org/v2/top-headlines?country=za&apiKey=".concat(z));case 10:t=e.sent,this.setState({articles:t.data.articles});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.articles,l=t.userData,c=t.countries,s=t.countryCode,i=t.modalActive,o=t.currentArticle;return n&&l&&f.isAuthenticated()&&(e=l.saved_articles.map((function(e){return e.title}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section news-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Top Headlines from around the World"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Country"),r.a.createElement("select",{onChange:this.changeCountry,defaultValue:s},c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{key:e.code,value:e.code},e.name))})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-parent"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-8"},r.a.createElement("div",{className:"tile box is-child news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[0].urlToImage,alt:n[0].title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-4",onClick:function(){return a.viewArticle(n[0])}},n[0].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[0])}},n[0].description?n[0].description:n[0].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[0].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[0])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[0])}})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[1].urlToImage,alt:n[1].title})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"title is-5",onClick:function(){return a.viewArticle(n[1])}},n[1].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[1])}},n[1].description?n[1].description:n[1].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[1].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[1])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[1])}}))))))))),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n.slice(2).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"news-article box",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:t.urlToImage,alt:t.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return a.viewArticle(t)}},t.title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(t)}},t.description?t.description:t.content),r.a.createElement("div",{className:"container"},f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(t)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(t)}}))))))))}))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box modal-news-article"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:o.urlToImage,alt:o.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},o.title),r.a.createElement("p",{className:"subtitle is-6"},o.content?o.content:o.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:o.url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},e.includes(o.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return a.unsaveArticle(o)}},"Remove from Bookmarks\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-success modal-card-title is-fullwidth",onClick:function(){return a.saveArticle(o)}},"Save Article\u2002",r.a.createElement("i",{className:"far fa-bookmark has-text-white"})))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-2"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%")))))}}]),t}(r.a.Component),D=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,articles:null,countryCode:"za",modalActive:!1,currentArticle:null,countries:[{name:"Argentina",code:"ar"},{name:"Australia",code:"au"},{name:"Austria",code:"at"},{name:"Belgium",code:"be"},{name:"Brazil",code:"br"},{name:"Bulgaria",code:"bg"},{name:"Canada",code:"ca"},{name:"China",code:"cn"},{name:"Colombia",code:"co"},{name:"Cuba",code:"cu"},{name:"Czech Republic",code:"cz"},{name:"Egypt",code:"eg"},{name:"France",code:"fr"},{name:"Germany",code:"de"},{name:"Greece",code:"gr"},{name:"Hong Kong",code:"hk"},{name:"Hungary",code:"hu"},{name:"India",code:"in"},{name:"Indonesia",code:"id"},{name:"Ireland",code:"ie"},{name:"Israel",code:"il"},{name:"Italy",code:"it"},{name:"Japan",code:"jp"},{name:"Latvia",code:"lv"},{name:"Lithuania",code:"lt"},{name:"Malaysia",code:"my"},{name:"Mexico",code:"mx"},{name:"Morocco",code:"ma"},{name:"Netherlands",code:"nl"},{name:"New Zealand",code:"nz"},{name:"Nigeria",code:"ng"},{name:"Norway",code:"no"},{name:"Philippines",code:"ph"},{name:"Poland",code:"pl"},{name:"Portugal",code:"pt"},{name:"Romania",code:"ro"},{name:"Russia",code:"ru"},{name:"Saudi Arabia",code:"sa"},{name:"Serbia",code:"rs"},{name:"Singapore",code:"sg"},{name:"Slovakia",code:"sk"},{name:"Slovenia",code:"si"},{name:"South Africa",code:"za"},{name:"South Korea",code:"kr"},{name:"Sweden",code:"se"},{name:"Switzerland",code:"ch"},{name:"Taiwan",code:"tw"},{name:"Thailand",code:"th"},{name:"Turkey",code:"tr"},{name:"UAE",code:"ae"},{name:"Ukraine",code:"ua"},{name:"United Kingdom",code:"gb"},{name:"United States",code:"us"},{name:"Venuzuela",code:"ve"}]},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.getArticles=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("https://newsapi.org/v2/top-headlines?country=".concat(t,"&category=business&apiKey=").concat("e3b00a0374b24cfa8de2f998a86b149a"));case 3:n=a.sent,e.setState({articles:n.data.articles}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e.changeCountry=function(a){e.setState({countryCode:a.target.value}),e.getArticles(a.target.value)},e.viewArticle=function(a){f.isAuthenticated()?e.setState({modalActive:!0,currentArticle:a}):e.props.history.push("/login")},e.saveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={publisher:t.source.name?t.source.name:"N/A",author:t.author?t.author:"N/A",title:t.title?t.title:"N/A",description:t.description?t.description:"N/A",content:t.content?t.content:"N/A",publish_date:t.publishedAt?t.publishedAt:"N/A",source_url:t.url?t.url:"N/A",image_url:t.urlToImage?t.urlToImage:"N/A"},a.prev=1,a.next=4,y.a.post("/api/users/articles/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.saved_articles.find((function(e){return e.title===t.title})),a.prev=2,a.next=5,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}}),y.a.get("https://newsapi.org/v2/top-headlines?country=za&category=business&apiKey=".concat("e3b00a0374b24cfa8de2f998a86b149a"))]);case 3:a=e.sent,this.setState({articles:a[1].data.articles,userData:a[0].data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.articles,l=t.userData,c=t.countries,s=t.countryCode,i=t.modalActive,o=t.currentArticle;return n&&l&&f.isAuthenticated()&&(e=l.saved_articles.map((function(e){return e.title}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section news-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Business Headlines from around the World"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Country"),r.a.createElement("select",{onChange:this.changeCountry,defaultValue:s},c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{key:e.code,value:e.code},e.name))})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-parent"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-8"},r.a.createElement("div",{className:"tile box is-child news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[0].urlToImage,alt:n[0].title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-4",onClick:function(){return a.viewArticle(n[0])}},n[0].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[0])}},n[0].description?n[0].description:n[0].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[0].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[0])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[0])}})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[1].urlToImage,alt:n[1].title})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"title is-5",onClick:function(){return a.viewArticle(n[1])}},n[1].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[1])}},n[1].description?n[1].description:n[1].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[1].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[1])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[1])}}))))))))),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n.slice(2).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"news-article box",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:t.urlToImage,alt:t.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return a.viewArticle(t)}},t.title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(t)}},t.description?t.description:t.content),r.a.createElement("div",{className:"container"},f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(t)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(t)}}))))))))}))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box modal-news-article"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:o.urlToImage,alt:o.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},o.title),r.a.createElement("p",{className:"subtitle is-6"},o.content?o.content:o.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:o.url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},e.includes(o.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return a.unsaveArticle(o)}},"Remove from Bookmarks\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-success modal-card-title is-fullwidth",onClick:function(){return a.saveArticle(o)}},"Save Article\u2002",r.a.createElement("i",{className:"far fa-bookmark has-text-white"})))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-2"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%")))))}}]),t}(r.a.Component),B=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,articles:null,countryCode:"za",modalActive:!1,currentArticle:null,countries:[{name:"Argentina",code:"ar"},{name:"Australia",code:"au"},{name:"Austria",code:"at"},{name:"Belgium",code:"be"},{name:"Brazil",code:"br"},{name:"Bulgaria",code:"bg"},{name:"Canada",code:"ca"},{name:"China",code:"cn"},{name:"Colombia",code:"co"},{name:"Cuba",code:"cu"},{name:"Czech Republic",code:"cz"},{name:"Egypt",code:"eg"},{name:"France",code:"fr"},{name:"Germany",code:"de"},{name:"Greece",code:"gr"},{name:"Hong Kong",code:"hk"},{name:"Hungary",code:"hu"},{name:"India",code:"in"},{name:"Indonesia",code:"id"},{name:"Ireland",code:"ie"},{name:"Israel",code:"il"},{name:"Italy",code:"it"},{name:"Japan",code:"jp"},{name:"Latvia",code:"lv"},{name:"Lithuania",code:"lt"},{name:"Malaysia",code:"my"},{name:"Mexico",code:"mx"},{name:"Morocco",code:"ma"},{name:"Netherlands",code:"nl"},{name:"New Zealand",code:"nz"},{name:"Nigeria",code:"ng"},{name:"Norway",code:"no"},{name:"Philippines",code:"ph"},{name:"Poland",code:"pl"},{name:"Portugal",code:"pt"},{name:"Romania",code:"ro"},{name:"Russia",code:"ru"},{name:"Saudi Arabia",code:"sa"},{name:"Serbia",code:"rs"},{name:"Singapore",code:"sg"},{name:"Slovakia",code:"sk"},{name:"Slovenia",code:"si"},{name:"South Africa",code:"za"},{name:"South Korea",code:"kr"},{name:"Sweden",code:"se"},{name:"Switzerland",code:"ch"},{name:"Taiwan",code:"tw"},{name:"Thailand",code:"th"},{name:"Turkey",code:"tr"},{name:"UAE",code:"ae"},{name:"Ukraine",code:"ua"},{name:"United Kingdom",code:"gb"},{name:"United States",code:"us"},{name:"Venuzuela",code:"ve"}]},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.getArticles=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("https://newsapi.org/v2/top-headlines?country=".concat(t,"&category=entertainment&apiKey=").concat("e3b00a0374b24cfa8de2f998a86b149a"));case 3:n=a.sent,e.setState({articles:n.data.articles}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e.changeCountry=function(a){e.setState({countryCode:a.target.value}),e.getArticles(a.target.value)},e.viewArticle=function(a){f.isAuthenticated()?e.setState({modalActive:!0,currentArticle:a}):e.props.history.push("/login")},e.saveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={publisher:t.source.name?t.source.name:"N/A",author:t.author?t.author:"N/A",title:t.title?t.title:"N/A",description:t.description?t.description:"N/A",content:t.content?t.content:"N/A",publish_date:t.publishedAt?t.publishedAt:"N/A",source_url:t.url?t.url:"N/A",image_url:t.urlToImage?t.urlToImage:"N/A"},a.prev=1,a.next=4,y.a.post("/api/users/articles/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.saved_articles.find((function(e){return e.title===t.title})),a.prev=2,a.next=5,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}}),y.a.get("https://newsapi.org/v2/top-headlines?country=za&category=entertainment&apiKey=".concat("e3b00a0374b24cfa8de2f998a86b149a"))]);case 3:a=e.sent,this.setState({articles:a[1].data.articles,userData:a[0].data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.articles,l=t.userData,c=t.countries,s=t.countryCode,i=t.modalActive,o=t.currentArticle;return n&&l&&f.isAuthenticated()&&(e=l.saved_articles.map((function(e){return e.title}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section news-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Entertainment News from around the World"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Country"),r.a.createElement("select",{onChange:this.changeCountry,defaultValue:s},c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{key:e.code,value:e.code},e.name))})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-parent"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-8"},r.a.createElement("div",{className:"tile box is-child news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[0].urlToImage,alt:n[0].title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-4",onClick:function(){return a.viewArticle(n[0])}},n[0].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[0])}},n[0].description?n[0].description:n[0].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[0].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[0])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[0])}})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[1].urlToImage,alt:n[1].title})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"title is-5",onClick:function(){return a.viewArticle(n[1])}},n[1].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[1])}},n[1].description?n[1].description:n[1].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[1].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[1])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[1])}}))))))))),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n.slice(2).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"news-article box",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:t.urlToImage,alt:t.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return a.viewArticle(t)}},t.title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(t)}},t.description?t.description:t.content),r.a.createElement("div",{className:"container"},f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(t)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(t)}}))))))))}))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box modal-news-article"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:o.urlToImage,alt:o.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},o.title),r.a.createElement("p",{className:"subtitle is-6"},o.content?o.content:o.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:o.url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},e.includes(o.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return a.unsaveArticle(o)}},"Remove from Bookmarks\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-success modal-card-title is-fullwidth",onClick:function(){return a.saveArticle(o)}},"Save Article\u2002",r.a.createElement("i",{className:"far fa-bookmark has-text-white"})))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-2"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%")))))}}]),t}(r.a.Component),P=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,articles:null,countryCode:"za",modalActive:!1,currentArticle:null,countries:[{name:"Argentina",code:"ar"},{name:"Australia",code:"au"},{name:"Austria",code:"at"},{name:"Belgium",code:"be"},{name:"Brazil",code:"br"},{name:"Bulgaria",code:"bg"},{name:"Canada",code:"ca"},{name:"China",code:"cn"},{name:"Colombia",code:"co"},{name:"Cuba",code:"cu"},{name:"Czech Republic",code:"cz"},{name:"Egypt",code:"eg"},{name:"France",code:"fr"},{name:"Germany",code:"de"},{name:"Greece",code:"gr"},{name:"Hong Kong",code:"hk"},{name:"Hungary",code:"hu"},{name:"India",code:"in"},{name:"Indonesia",code:"id"},{name:"Ireland",code:"ie"},{name:"Israel",code:"il"},{name:"Italy",code:"it"},{name:"Japan",code:"jp"},{name:"Latvia",code:"lv"},{name:"Lithuania",code:"lt"},{name:"Malaysia",code:"my"},{name:"Mexico",code:"mx"},{name:"Morocco",code:"ma"},{name:"Netherlands",code:"nl"},{name:"New Zealand",code:"nz"},{name:"Nigeria",code:"ng"},{name:"Norway",code:"no"},{name:"Philippines",code:"ph"},{name:"Poland",code:"pl"},{name:"Portugal",code:"pt"},{name:"Romania",code:"ro"},{name:"Russia",code:"ru"},{name:"Saudi Arabia",code:"sa"},{name:"Serbia",code:"rs"},{name:"Singapore",code:"sg"},{name:"Slovakia",code:"sk"},{name:"Slovenia",code:"si"},{name:"South Africa",code:"za"},{name:"South Korea",code:"kr"},{name:"Sweden",code:"se"},{name:"Switzerland",code:"ch"},{name:"Taiwan",code:"tw"},{name:"Thailand",code:"th"},{name:"Turkey",code:"tr"},{name:"UAE",code:"ae"},{name:"Ukraine",code:"ua"},{name:"United Kingdom",code:"gb"},{name:"United States",code:"us"},{name:"Venuzuela",code:"ve"}]},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.getArticles=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("https://newsapi.org/v2/top-headlines?country=".concat(t,"&category=sports&apiKey=").concat("e3b00a0374b24cfa8de2f998a86b149a"));case 3:n=a.sent,e.setState({articles:n.data.articles}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e.changeCountry=function(a){e.setState({countryCode:a.target.value}),e.getArticles(a.target.value)},e.viewArticle=function(a){f.isAuthenticated()?e.setState({modalActive:!0,currentArticle:a}):e.props.history.push("/login")},e.saveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={publisher:t.source.name?t.source.name:"N/A",author:t.author?t.author:"N/A",title:t.title?t.title:"N/A",description:t.description?t.description:"N/A",content:t.content?t.content:"N/A",publish_date:t.publishedAt?t.publishedAt:"N/A",source_url:t.url?t.url:"N/A",image_url:t.urlToImage?t.urlToImage:"N/A"},a.prev=1,a.next=4,y.a.post("/api/users/articles/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.saved_articles.find((function(e){return e.title===t.title})),a.prev=2,a.next=5,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}}),y.a.get("https://newsapi.org/v2/top-headlines?country=za&category=sports&apiKey=".concat("e3b00a0374b24cfa8de2f998a86b149a"))]);case 3:a=e.sent,this.setState({articles:a[1].data.articles,userData:a[0].data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.articles,l=t.userData,c=t.countries,s=t.countryCode,i=t.modalActive,o=t.currentArticle;return n&&l&&f.isAuthenticated()&&(e=l.saved_articles.map((function(e){return e.title}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section news-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Top Sports Headlines from around the World"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Country"),r.a.createElement("select",{onChange:this.changeCountry,defaultValue:s},c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{key:e.code,value:e.code},e.name))})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-parent"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-8"},r.a.createElement("div",{className:"tile box is-child news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[0].urlToImage,alt:n[0].title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-4",onClick:function(){return a.viewArticle(n[0])}},n[0].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[0])}},n[0].description?n[0].description:n[0].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[0].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[0])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[0])}})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[1].urlToImage,alt:n[1].title})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"title is-5",onClick:function(){return a.viewArticle(n[1])}},n[1].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[1])}},n[1].description?n[1].description:n[1].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[1].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[1])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[1])}}))))))))),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n.slice(2).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"news-article box",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:t.urlToImage,alt:t.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return a.viewArticle(t)}},t.title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(t)}},t.description?t.description:t.content),r.a.createElement("div",{className:"container"},f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(t)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(t)}}))))))))}))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box modal-news-article"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:o.urlToImage,alt:o.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},o.title),r.a.createElement("p",{className:"subtitle is-6"},o.content?o.content:o.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:o.url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},e.includes(o.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return a.unsaveArticle(o)}},"Remove from Bookmarks\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-success modal-card-title is-fullwidth",onClick:function(){return a.saveArticle(o)}},"Save Article\u2002",r.a.createElement("i",{className:"far fa-bookmark has-text-white"})))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-2"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%")))))}}]),t}(r.a.Component),M="e3b00a0374b24cfa8de2f998a86b149a",R=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,articles:null,category:"science",countryCode:"za",modalActive:!1,currentArticle:null,countries:[{name:"Argentina",code:"ar"},{name:"Australia",code:"au"},{name:"Austria",code:"at"},{name:"Belgium",code:"be"},{name:"Brazil",code:"br"},{name:"Bulgaria",code:"bg"},{name:"Canada",code:"ca"},{name:"China",code:"cn"},{name:"Colombia",code:"co"},{name:"Cuba",code:"cu"},{name:"Czech Republic",code:"cz"},{name:"Egypt",code:"eg"},{name:"France",code:"fr"},{name:"Germany",code:"de"},{name:"Greece",code:"gr"},{name:"Hong Kong",code:"hk"},{name:"Hungary",code:"hu"},{name:"India",code:"in"},{name:"Indonesia",code:"id"},{name:"Ireland",code:"ie"},{name:"Israel",code:"il"},{name:"Italy",code:"it"},{name:"Japan",code:"jp"},{name:"Latvia",code:"lv"},{name:"Lithuania",code:"lt"},{name:"Malaysia",code:"my"},{name:"Mexico",code:"mx"},{name:"Morocco",code:"ma"},{name:"Netherlands",code:"nl"},{name:"New Zealand",code:"nz"},{name:"Nigeria",code:"ng"},{name:"Norway",code:"no"},{name:"Philippines",code:"ph"},{name:"Poland",code:"pl"},{name:"Portugal",code:"pt"},{name:"Romania",code:"ro"},{name:"Russia",code:"ru"},{name:"Saudi Arabia",code:"sa"},{name:"Serbia",code:"rs"},{name:"Singapore",code:"sg"},{name:"Slovakia",code:"sk"},{name:"Slovenia",code:"si"},{name:"South Africa",code:"za"},{name:"South Korea",code:"kr"},{name:"Sweden",code:"se"},{name:"Switzerland",code:"ch"},{name:"Taiwan",code:"tw"},{name:"Thailand",code:"th"},{name:"Turkey",code:"tr"},{name:"UAE",code:"ae"},{name:"Ukraine",code:"ua"},{name:"United Kingdom",code:"gb"},{name:"United States",code:"us"},{name:"Venuzuela",code:"ve"}]},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.getArticles=function(){var a=Object(x.a)(w.a.mark((function a(t,n){var r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("https://newsapi.org/v2/top-headlines?category=".concat(n,"&country=").concat(t,"&apiKey=").concat(M));case 3:r=a.sent,e.setState({articles:r.data.articles}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}(),e.changeCountry=function(a){var t=e.state.category;e.setState({countryCode:a.target.value}),e.getArticles(a.target.value,t)},e.changeCategory=function(a){var t=e.state.countryCode;e.setState({category:a}),e.getArticles(t,a)},e.viewArticle=function(a){f.isAuthenticated()&&e.setState({modalActive:!0,currentArticle:a})},e.saveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={publisher:t.source.name?t.source.name:"N/A",author:t.author?t.author:"N/A",title:t.title?t.title:"N/A",description:t.description?t.description:"N/A",content:t.content?t.content:"N/A",publish_date:t.publishedAt?t.publishedAt:"N/A",source_url:t.url?t.url:"N/A",image_url:t.urlToImage?t.urlToImage:"N/A"},a.prev=1,a.next=4,y.a.post("/api/users/articles/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unsaveArticle=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.saved_articles.find((function(e){return e.title===t.title})),a.prev=2,a.next=5,y.a.delete("/api/users/articles/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{articleId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e.clearModal=function(){e.setState({modalActive:!1,currentArticle:null})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}}),y.a.get("https://newsapi.org/v2/top-headlines?category=science&country=za&apiKey=".concat(M))]);case 3:a=e.sent,this.setState({articles:a[1].data.articles,userData:a[0].data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.articles,l=t.userData,c=t.countries,s=t.countryCode,i=t.modalActive,o=t.currentArticle,m=t.category;return n&&l&&f.isAuthenticated()&&(e=l.saved_articles.map((function(e){return e.title}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section news-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-1 has-text-centered"},"Science & Tech News from around the World"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Country"),r.a.createElement("select",{onChange:this.changeCountry,defaultValue:s},c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{key:e.code,value:e.code},e.name))})))))),r.a.createElement("br",null),r.a.createElement("div",{className:"tabs is-mobile is-centered is-medium is-fullwidth is-toggle is-toggle-rounded"},r.a.createElement("ul",null,r.a.createElement("li",{className:"science"===m?"is-active":"",onClick:function(){return a.changeCategory("science")}},r.a.createElement("a",{style:"science"===m?{backgroundColor:"#e3120b",border:"1px solid #e3120b"}:{}},"Science")),r.a.createElement("li",{className:"technology"===m?"is-active":"",onClick:function(){return a.changeCategory("technology")}},r.a.createElement("a",{style:"technology"===m?{backgroundColor:"#e3120b",border:"1px solid #e3120b"}:{}},"Technology")),r.a.createElement("li",{className:"health"===m?"is-active":"",onClick:function(){return a.changeCategory("health")}},r.a.createElement("a",{style:"health"===m?{backgroundColor:"#e3120b",border:"1px solid #e3120b"}:{}},"Health")))),r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-parent"},r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"tile is-parent is-8"},r.a.createElement("div",{className:"tile box is-child news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[0].urlToImage,alt:n[0].title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-4",onClick:function(){return a.viewArticle(n[0])}},n[0].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[0])}},n[0].description?n[0].description:n[0].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[0].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[0])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[0])}})))))),r.a.createElement("div",{className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box news-article"},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:n[1].urlToImage,alt:n[1].title})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"title is-5",onClick:function(){return a.viewArticle(n[1])}},n[1].title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(n[1])}},n[1].description?n[1].description:n[1].content),f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:n[1].url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(n[1].title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(n[1])}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(n[1])}}))))))))),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n.slice(2).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"news-article box",style:{height:"100%"}},r.a.createElement("figure",{className:"image is-3by2"},r.a.createElement("img",{src:t.urlToImage,alt:t.title})),r.a.createElement("hr",null),r.a.createElement("h3",{className:"title is-5",onClick:function(){return a.viewArticle(t)}},t.title),r.a.createElement("p",{className:"subtitle is-6",onClick:function(){return a.viewArticle(t)}},t.description?t.description:t.content),r.a.createElement("div",{className:"container"},f.isAuthenticated()&&r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-bookmark fa-2x",onClick:function(){return a.unsaveArticle(t)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-bookmark fa-2x",onClick:function(){return a.saveArticle(t)}}))))))))}))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal is-active"},r.a.createElement("div",{className:"modal-background",onClick:this.clearModal}),r.a.createElement("div",{className:"modal-content box modal-news-article"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:o.urlToImage,alt:o.title})),r.a.createElement("hr",null),r.a.createElement("h1",{className:"title is-5"},o.title),r.a.createElement("p",{className:"subtitle is-6"},o.content?o.content:o.description),f.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left is-fullwidth"},r.a.createElement("a",{href:o.url,target:"_blank"},r.a.createElement("button",{className:"button is-info modal-card-title is-fullwidth"},"View Source\u2002",r.a.createElement("i",{className:"fas fa-external-link-alt has-text-white"})))),r.a.createElement("div",{className:"level-right"},e.includes(o.title)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger modal-card-title is-fullwidth",onClick:function(){return a.unsaveArticle(o)}},"Remove from Bookmarks\u2002",r.a.createElement("i",{className:"far fa-trash-alt has-text-white"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-success modal-card-title is-fullwidth",onClick:function(){return a.saveArticle(o)}},"Save Article\u2002",r.a.createElement("i",{className:"far fa-bookmark has-text-white"})))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-2"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%")))))}}]),t}(r.a.Component),L=t(23),G=(t(28),t(76),"pk.eyJ1IjoiYmhla2ltYWVuZXRqYSIsImEiOiJjazhqd2ZhbjIwMnIzM2dxZTFrc3BuZjFwIn0.WNXTDYIXnThB976LBqJcmw"),U="bf2194251d3a6575ba2959b20105a3eb",K=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={viewport:{height:"100%",width:"100%",latitude:0,longitude:0,zoom:2,bearing:0,pitch:0,center:[0,0]},capitals:[],weatherData:[],currentCap:null},e.getWeatherData=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(t.name,"&units=metric&appid=").concat(U));case 3:n=a.sent,r={description:n.data.weather[0].description,temp:n.data.main.temp,temp_min:n.data.main.temp_min,temp_max:n.data.main.temp_max,humidity:n.data.main.humidity,wind_speed:n.data.wind.speed},e.setState({weatherData:r}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}(),e.goToCity=function(){var a=Object(x.a)(w.a.mark((function a(t){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setState({currentCap:t,viewport:Object(S.a)({},e.state.viewport,{latitude:t.location[1],longitude:t.location[0],zoom:8,center:t.location})}),e.getWeatherData(t);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a,t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("https://restcountries.eu/rest/v2/all");case 3:return a=e.sent,t=a.data.map((function(e){return e.capital})).filter((function(e){return e})),e.next=7,Promise.all(t.map(function(){var e=Object(x.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(a,".json"),{params:{access_token:G}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 7:n=(n=e.sent).filter((function(e){return 0!==e.data.features.length})),t=t.filter((function(e){return"Fakaofo"!==e})),r=t.map((function(e,a){return{name:e,location:n[a].data.features[0].center}})),this.setState({capitals:r}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.capitals,n=a.currentCap,l=a.weatherData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section",id:"world-map",style:{flexGrow:"1",padding:0,width:"100%",display:"flex"}},r.a.createElement(L.d,Object.assign({style:{flexGrow:"1"},interactive:!0,container:"world-map",mapStyle:"mapbox://styles/mapbox/satellite-streets-v11",mapboxApiAccessToken:G},this.state.viewport,{onViewportChange:function(a){return e.setState({viewport:a,currentCap:null,weatherData:[]})}}),r.a.createElement("h1",{className:"title is-4 has-text-white has-text-left",style:{padding:"10px",backgroundColor:"rgba(0,0,0,0.5)"}},"Get the latest weather for major cities across the world"),r.a.createElement("div",{style:{position:"absolute",right:0}},r.a.createElement(L.b,null)),t.map((function(a,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{key:t,latitude:a.location[1],longitude:a.location[0]},r.a.createElement("span",{onClick:function(){return e.goToCity(a)},style:{cursor:"pointer"}},"\ud83d\udd38")))})),n&&r.a.createElement(L.c,{latitude:n.location[1],longitude:n.location[0],closeOnClick:!0},r.a.createElement("h1",{className:"subtitle is-5",style:{marginBottom:"10px"}},n.name),r.a.createElement("p",null,l.description),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-thermometer-half"})," ",Math.round(l.temp),"\xb0C"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-temperature-low"})," ",Math.round(l.temp_min),"\xb0C"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-temperature-high"})," ",Math.round(l.temp_max),"\xb0C"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-wind"})," ",Math.round(3.6*l.wind_speed)," kph"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-tint"})," ",l.humidity,"%")))))}}]),t}(r.a.Component),V=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={userData:null,sources:null},e.refreshPage=Object(x.a)(w.a.mark((function a(){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 3:t=a.sent,e.setState({userData:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),e.changeCountry=function(a){e.setState({countryCode:a.target.value}),e.getSources(a.target.value)},e.followPublisher=function(){var a=Object(x.a)(w.a.mark((function a(t){var n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={name:t.name,slug:t.id,description:t.description,source_url:t.url},a.prev=1,a.next=4,y.a.post("/api/users/publishers/",n,{headers:{Authorization:"Bearer ".concat(f.getToken())}});case 4:a.sent,e.refreshPage(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.unfollowPublisher=function(){var a=Object(x.a)(w.a.mark((function a(t){var n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.state.userData,r=n.favourite_publishers.find((function(e){return e.slug===t.id})),a.prev=2,a.next=5,y.a.delete("/api/users/publishers/",{headers:{Authorization:"Bearer ".concat(f.getToken())},data:{publisherId:r.id}});case 5:a.sent,e.refreshPage(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([y.a.get("/api/users/my-profile/",{headers:{Authorization:"Bearer ".concat(f.getToken())}}),y.a.get("https://newsapi.org/v2/sources?&apiKey=".concat("e3b00a0374b24cfa8de2f998a86b149a"))]);case 3:a=e.sent,this.setState({sources:a[1].data.sources,userData:a[0].data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,a=this,t=this.state,n=t.sources,l=t.userData;return n&&l&&(e=l.favourite_publishers.map((function(e){return e.slug}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section publisher-page",style:{flexGrow:"1",overflowY:"scroll"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title is-2 has-text-centered"},"Explore the World's Most Trusted News Sources"),r.a.createElement("div",{className:"columns is-mobile is-multiline"},n&&l?r.a.createElement(r.a.Fragment,null,n.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement("div",{className:"box publisher-box",style:{height:"100%"}},r.a.createElement("h2",{className:"title is-3"},t.name),r.a.createElement("hr",null),r.a.createElement("p",{className:"subtitle is-5"},t.description),r.a.createElement("div",{className:"level is-mobile"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement("i",{className:"fas fa-external-link-alt fa-2x"}))),r.a.createElement("div",{className:"level-right"},e.includes(t.id)?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-danger",onClick:function(){return a.unfollowPublisher(t)}},"Unfollow")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button is-info",onClick:function(){return a.followPublisher(t)}},"Follow")))))))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title is-4"},"Loading..."),r.a.createElement("progress",{className:"progress is-danger",max:"100"},"30%"))))))}}]),t}(r.a.Component),W=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={},e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100vh"}},r.a.createElement(b,null),r.a.createElement(g,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:v}),r.a.createElement(d.b,{path:"/register",component:F}),r.a.createElement(d.b,{path:"/login",component:j}),r.a.createElement(p,{path:"/my-profile",component:C}),r.a.createElement(p,{path:"/newsfeed",component:_}),r.a.createElement(d.b,{path:"/news/top",component:I}),r.a.createElement(p,{path:"/news/business",component:D}),r.a.createElement(p,{path:"/news/entertainment",component:B}),r.a.createElement(p,{path:"/news/sports",component:P}),r.a.createElement(p,{path:"/news/sci-tech",component:R}),r.a.createElement(p,{path:"/weather",component:K}),r.a.createElement(p,{path:"/publishers",component:V}),r.a.createElement(d.b,{path:"/*",component:N})))))}}]),t}(r.a.Component);var Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.5d422c0f.chunk.js.map